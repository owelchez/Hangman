<!DOCTYPE html>
<html>
<head>
	<title>My Hangman Game</title>

										<!-- Libraries -->

<link rel="stylesheet" type="text/css" href="assets/CSS/reset.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="assets/CSS/style.css">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.css">

</head>
<body>
<div class="container">
			<div id="animateTitle">
				<img id="title" src="assets/images/welcome.png">
				<img id="title2" src="assets/images/to.png">		
				<img id="title2" src="assets/images/the.png">
				<img id="title" src="assets/images/hangman.png">
				<img id="title" src="assets/images/game.png">	
			</div>

			<br>

			<div id="alphabetContainer">
				<!-- <button type="button" class="btn btn-default" class="buttonMargin" id="let"></button> -->
			</div>

			<div id="winLoose">
				<div>Wins: <span>0</span></div>
				<div>Looses: <span>0</span></div>
			</div>

			<div id="category">
				<h2>Secret Word Category</h2>
				<h2>"Horror"</h2>
				<div><span id="word"></span></div>
			</div>

				<br>

				

		<div id="footer">
			<button id="reset"><span>RESET</span></button>
		</div>

				<audio autoplay>
				  <source src="assets/sounds/eerie.mp3" type="audio/mpeg">
				</audio>

</div>
</body>
</html>

<script src="https://code.jquery.com/jquery-3.1.0.slim.min.js"   integrity="sha256-cRpWjoSOw5KcyIOaZNo4i6fZ9tKPhYYb6i5T9RSVJG8=" crossorigin="anonymous"></script>
<script type="text/javascript">
$(document).ready(function() {

	var audioElement = document.createElement('audio');
				        audioElement.setAttribute('src', 'assets/sounds/darkLaugh.mp3');

	var currentWord = "";
	var userInput = "";
	var guesses = 9;
	var wrongGuesses = [];
	var letterButton = [];
	var dashes = [];
	
					/*Create an array with the alphabet letters*/

	var alphabet = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "_"];

					/*Creates an array of random words*/

	var horror = ["THE BLAIR WITCH PROJECT", 
					"RESIDENT EVIL", 
					"THE AMITYVILLE HORROR", 
					"THE STRANGERS", 
					"THE CLOWN STATUE", 
					"THE VANISHING HITCHHIKER"];

	function startGame(){
		guesses = 9;
		wrongGuesses = [];

		currentWord = horror[Math.floor(Math.random() * (1 + horror.length - 1))];

		//currentWord.split("");

		console.log(currentWord);
		console.log('Guesses ' + guesses);

		playAnimation();

	};

	function checkWin(){
		console.log('Check if there\'s any dashes left');
	}

	function renderDashes(){
		for(index = 0; index < currentWord.length; index++){
			if(currentWord[index] === ' '){
				dashes.push(' - ');
			} else if (currentWord[index]){
			dashes.push('_ ');
			}
		}
		$('#word').append(dashes);
	};

	function renderButtons(slideInRight){
		for(index = 0; index < alphabet.length - 1; index++){
			letterButton = $('<button>', {
				class: "btn btn-default",
				class: "buttonMargin",
				value: alphabet[index],
				id: "boton"
			})

			letterButton.append(alphabet[index]);
		
			$("#alphabetContainer").append(letterButton);
		}
		slideInRight();
	};

	function slideInRight(callback){
		$('#animateTitle').addClass('animated slideInRight');
		callback();
	};

	function playAnimation(){
		renderButtons(function(){
			slideInRight(function(){
				renderDashes();
			})
		})
	};

		$('#reset').on('click', function() {
			window.location.reload();
		});

		startGame();
		

		$('#alphabetContainer').on('click', function(event){
			userInput = event.target.value;
			console.log(userInput);
			for(i = 0; i < currentWord.length; i++){
				if(userInput === currentWord[i]){
					dashes.splice(i, 0);
					dashes.splice(i, 1, userInput);
					console.log(dashes);
					$('#word').empty();
					$('#word').append(dashes);

				}
			}
		});
		
})
</script>